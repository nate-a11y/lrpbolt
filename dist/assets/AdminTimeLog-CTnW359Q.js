import{g as ke,a as we,r as P,u as Re,_ as Ce,b as ie,j as a,X as Je,s as Ee,c as Te,d as Se,Y as Le,Z as We,p as Ge,e as Ve,f as Ze,B as fe,$ as Xe,a0 as Oe,P as _e,T as Ie,N as et,a1 as tt,a2 as rt,O as st,a3 as it,a4 as nt,Q as at,R as ot,C as lt,U as dt,a5 as B,l as Ne,k as ut}from"./main-Cw184DFO.js";function ct(l){return ke("MuiTable",l)}we("MuiTable",["root","stickyHeader"]);const ht=["className","component","padding","size","stickyHeader"],ft=l=>{const{classes:b,stickyHeader:v}=l;return Se({root:["root",v&&"stickyHeader"]},ct,b)},pt=Ee("table",{name:"MuiTable",slot:"Root",overridesResolver:(l,b)=>{const{ownerState:v}=l;return[b.root,v.stickyHeader&&b.stickyHeader]}})(({theme:l,ownerState:b})=>ie({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":ie({},l.typography.body2,{padding:l.spacing(2),color:(l.vars||l).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},b.stickyHeader&&{borderCollapse:"separate"})),He="table",ze=P.forwardRef(function(b,v){const d=Re({props:b,name:"MuiTable"}),{className:A,component:k=He,padding:M="normal",size:S="medium",stickyHeader:Y=!1}=d,i=Ce(d,ht),R=ie({},d,{component:k,padding:M,size:S,stickyHeader:Y}),H=ft(R),U=P.useMemo(()=>({padding:M,size:S,stickyHeader:Y}),[M,S,Y]);return a.jsx(Je.Provider,{value:U,children:a.jsx(pt,ie({as:k,role:k===He?null:"table",ref:v,className:Te(H.root,A),ownerState:R},i))})});function gt(l){return ke("MuiTableBody",l)}we("MuiTableBody",["root"]);const mt=["className","component"],yt=l=>{const{classes:b}=l;return Se({root:["root"]},gt,b)},_t=Ee("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(l,b)=>b.root})({display:"table-row-group"}),bt={variant:"body"},Pe="tbody",Ue=P.forwardRef(function(b,v){const d=Re({props:b,name:"MuiTableBody"}),{className:A,component:k=Pe}=d,M=Ce(d,mt),S=ie({},d,{component:k}),Y=yt(S);return a.jsx(Le.Provider,{value:bt,children:a.jsx(_t,ie({className:Te(Y.root,A),as:k,ref:v,role:k===Pe?null:"rowgroup",ownerState:S},M))})});function vt(l){return ke("MuiTableHead",l)}we("MuiTableHead",["root"]);const xt=["className","component"],kt=l=>{const{classes:b}=l;return Se({root:["root"]},vt,b)},wt=Ee("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(l,b)=>b.root})({display:"table-header-group"}),Rt={variant:"head"},$e="thead",qe=P.forwardRef(function(b,v){const d=Re({props:b,name:"MuiTableHead"}),{className:A,component:k=$e}=d,M=Ce(d,xt),S=ie({},d,{component:k}),Y=kt(S);return a.jsx(Le.Provider,{value:Rt,children:a.jsx(wt,ie({as:k,className:Te(Y.root,A),ref:v,role:k===$e?null:"rowgroup",ownerState:S},M))})});function Ct(l){return ke("MuiTableRow",l)}const Be=we("MuiTableRow",["root","selected","hover","head","footer"]),Et=["className","component","hover","selected"],Tt=l=>{const{classes:b,selected:v,hover:d,head:A,footer:k}=l;return Se({root:["root",v&&"selected",d&&"hover",A&&"head",k&&"footer"]},Ct,b)},St=Ee("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(l,b)=>{const{ownerState:v}=l;return[b.root,v.head&&b.head,v.footer&&b.footer]}})(({theme:l})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Be.hover}:hover`]:{backgroundColor:(l.vars||l).palette.action.hover},[`&.${Be.selected}`]:{backgroundColor:l.vars?`rgba(${l.vars.palette.primary.mainChannel} / ${l.vars.palette.action.selectedOpacity})`:We.alpha(l.palette.primary.main,l.palette.action.selectedOpacity),"&:hover":{backgroundColor:l.vars?`rgba(${l.vars.palette.primary.mainChannel} / calc(${l.vars.palette.action.selectedOpacity} + ${l.vars.palette.action.hoverOpacity}))`:We.alpha(l.palette.primary.main,l.palette.action.selectedOpacity+l.palette.action.hoverOpacity)}}})),Ye="tr",be=P.forwardRef(function(b,v){const d=Re({props:b,name:"MuiTableRow"}),{className:A,component:k=Ye,hover:M=!1,selected:S=!1}=d,Y=Ce(d,Et),i=P.useContext(Le),R=ie({},d,{component:k,hover:M,selected:S,head:i&&i.variant==="head",footer:i&&i.variant==="footer"}),H=Tt(R);return a.jsx(St,ie({as:k,ref:v,className:Te(H.root,A),role:k===Ye?null:"row",ownerState:R},Y))});var ve={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var jt=ve.exports,Ke;function Dt(){return Ke||(Ke=1,function(l,b){((v,d)=>{l.exports=d()})(jt,function v(){var d=typeof self<"u"?self:typeof window<"u"?window:d!==void 0?d:{},A,k=!d.document&&!!d.postMessage,M=d.IS_PAPA_WORKER||!1,S={},Y=0,i={};function R(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(t){var r=pe(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new de(r),(this._handle.streamer=this)._config=r}).call(this,e),this.parseChunk=function(t,r){var s=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<s){let h=this._config.newline;h||(n=this._config.quoteChar||'"',h=this._handle.guessLineEndings(t,n)),t=[...t.split(h).slice(s)].join(h)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&(n=this._config.beforeFirstChunk(t))!==void 0&&(t=n),this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+t,n=(this._partialLine="",this._handle.parse(s,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=n.meta.cursor,s=(this._finished||(this._partialLine=s.substring(t-this._baseIndex),this._baseIndex=t),n&&n.data&&(this._rowCount+=n.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),M)d.postMessage({results:n,workerId:i.WORKER_ID,finished:s});else if(w(this._config.chunk)&&!r){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=n=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!s||!w(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):M&&this._config.error&&d.postMessage({workerId:i.WORKER_ID,error:t,finished:!1})}}function H(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),R.call(this,e),this._nextChunk=k?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),k||(t.onload=ee(this._chunkLoaded,this),t.onerror=ee(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!k),this._config.downloadRequestHeaders){var r,s=this._config.downloadRequestHeaders;for(r in s)t.setRequestHeader(r,s[r])}var n;this._config.chunkSize&&(n=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+n));try{t.send(this._config.downloadRequestBody)}catch(h){this._chunkError(h.message)}k&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function U(e){(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),R.call(this,e);var t,r,s=typeof FileReader<"u";this.stream=function(n){this._input=n,r=n.slice||n.webkitSlice||n.mozSlice,s?((t=new FileReader).onload=ee(this._chunkLoaded,this),t.onerror=ee(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var n=this._input,h=(this._config.chunkSize&&(h=Math.min(this._start+this._config.chunkSize,this._input.size),n=r.call(n,this._start,h)),t.readAsText(n,this._config.encoding));s||this._chunkLoaded({target:{result:h}})},this._chunkLoaded=function(n){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(n.target.result)},this._chunkError=function(){this._sendError(t.error)}}function V(e){var t;R.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,s;if(!this._finished)return r=this._config.chunkSize,t=r?(s=t.substring(0,r),t.substring(r)):(s=t,""),this._finished=!t,this.parseChunk(s)}}function Z(e){R.call(this,e=e||{});var t=[],r=!0,s=!1;this.pause=function(){R.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){R.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(n){this._input=n,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=ee(function(n){try{t.push(typeof n=="string"?n:n.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(h){this._streamError(h)}},this),this._streamError=ee(function(n){this._streamCleanUp(),this._sendError(n)},this),this._streamEnd=ee(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function de(e){var t,r,s,n,h=Math.pow(2,53),E=-h,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,g=this,D=0,u=0,$=!1,f=!1,m=[],o={data:[],errors:[],meta:{}};function F(y){return e.skipEmptyLines==="greedy"?y.join("").trim()==="":y.length===1&&y[0].length===0}function L(){if(o&&s&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),s=!1),e.skipEmptyLines&&(o.data=o.data.filter(function(c){return!F(c)})),z()){let c=function(I,W){w(e.transformHeader)&&(I=e.transformHeader(I,W)),m.push(I)};if(o)if(Array.isArray(o.data[0])){for(var y=0;z()&&y<o.data.length;y++)o.data[y].forEach(c);o.data.splice(0,1)}else o.data.forEach(c)}function x(c,I){for(var W=e.header?{}:[],C=0;C<c.length;C++){var T=C,_=c[C],_=((X,p)=>(j=>(e.dynamicTypingFunction&&e.dynamicTyping[j]===void 0&&(e.dynamicTyping[j]=e.dynamicTypingFunction(j)),(e.dynamicTyping[j]||e.dynamicTyping)===!0))(X)?p==="true"||p==="TRUE"||p!=="false"&&p!=="FALSE"&&((j=>{if(K.test(j)&&(j=parseFloat(j),E<j&&j<h))return 1})(p)?parseFloat(p):G.test(p)?new Date(p):p===""?null:p):p)(T=e.header?C>=m.length?"__parsed_extra":m[C]:T,_=e.transform?e.transform(_,T):_);T==="__parsed_extra"?(W[T]=W[T]||[],W[T].push(_)):W[T]=_}return e.header&&(C>m.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+C,u+I):C<m.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+C,u+I)),W}var O;o&&(e.header||e.dynamicTyping||e.transform)&&(O=1,!o.data.length||Array.isArray(o.data[0])?(o.data=o.data.map(x),O=o.data.length):o.data=x(o.data,0),e.header&&o.meta&&(o.meta.fields=m),u+=O)}function z(){return e.header&&m.length===0}function J(y,x,O,c){y={type:y,code:x,message:O},c!==void 0&&(y.row=c),o.errors.push(y)}w(e.step)&&(n=e.step,e.step=function(y){o=y,z()?L():(L(),o.data.length!==0&&(D+=y.data.length,e.preview&&D>e.preview?r.abort():(o.data=o.data[0],n(o,g))))}),this.parse=function(y,x,O){var c=e.quoteChar||'"',c=(e.newline||(e.newline=this.guessLineEndings(y,c)),s=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(y),o.meta.delimiter=e.delimiter):((c=((I,W,C,T,_)=>{var X,p,j,le;_=_||[",","	","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var ce=0;ce<_.length;ce++){for(var te,ge=_[ce],q=0,re=0,N=0,Q=(j=void 0,new ne({comments:T,delimiter:ge,newline:W,preview:10}).parse(I)),ae=0;ae<Q.data.length;ae++)C&&F(Q.data[ae])?N++:(te=Q.data[ae].length,re+=te,j===void 0?j=te:0<te&&(q+=Math.abs(te-j),j=te));0<Q.data.length&&(re/=Q.data.length-N),(p===void 0||q<=p)&&(le===void 0||le<re)&&1.99<re&&(p=q,X=ge,le=re)}return{successful:!!(e.delimiter=X),bestDelimiter:X}})(y,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=c.bestDelimiter:(s=!0,e.delimiter=i.DefaultDelimiter),o.meta.delimiter=e.delimiter),pe(e));return e.preview&&e.header&&c.preview++,t=y,r=new ne(c),o=r.parse(t,x,O),L(),$?{meta:{paused:!0}}:o||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,r.abort(),t=w(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){g.streamer._halted?($=!1,g.streamer.parseChunk(t,!0)):setTimeout(g.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,r.abort(),o.meta.aborted=!0,w(e.complete)&&e.complete(o),t=""},this.guessLineEndings=function(I,c){I=I.substring(0,1048576);var c=new RegExp(oe(c)+"([^]*?)"+oe(c),"gm"),O=(I=I.replace(c,"")).split("\r"),c=I.split(`
`),I=1<c.length&&c[0].length<O[0].length;if(O.length===1||I)return`
`;for(var W=0,C=0;C<O.length;C++)O[C][0]===`
`&&W++;return W>=O.length/2?`\r
`:"\r"}}function oe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ne(e){var t=(e=e||{}).delimiter,r=e.newline,s=e.comments,n=e.step,h=e.preview,E=e.fastMode,K=null,G=!1,g=e.quoteChar==null?'"':e.quoteChar,D=g;if(e.escapeChar!==void 0&&(D=e.escapeChar),(typeof t!="string"||-1<i.BAD_DELIMITERS.indexOf(t))&&(t=","),s===t)throw new Error("Comment character same as delimiter");s===!0?s="#":(typeof s!="string"||-1<i.BAD_DELIMITERS.indexOf(s))&&(s=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var u=0,$=!1;this.parse=function(f,m,o){if(typeof f!="string")throw new Error("Input must be a string");var F=f.length,L=t.length,z=r.length,J=s.length,y=w(n),x=[],O=[],c=[],I=u=0;if(!f)return q();if(E||E!==!1&&f.indexOf(g)===-1){for(var W=f.split(r),C=0;C<W.length;C++){if(c=W[C],u+=c.length,C!==W.length-1)u+=r.length;else if(o)return q();if(!s||c.substring(0,J)!==s){if(y){if(x=[],le(c.split(t)),re(),$)return q()}else le(c.split(t));if(h&&h<=C)return x=x.slice(0,h),q(!0)}}return q()}for(var T=f.indexOf(t,u),_=f.indexOf(r,u),X=new RegExp(oe(D)+oe(g),"g"),p=f.indexOf(g,u);;)if(f[u]===g)for(p=u,u++;;){if((p=f.indexOf(g,p+1))===-1)return o||O.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:u}),te();if(p===F-1)return te(f.substring(u,p).replace(X,g));if(g===D&&f[p+1]===D)p++;else if(g===D||p===0||f[p-1]!==D){T!==-1&&T<p+1&&(T=f.indexOf(t,p+1));var j=ce((_=_!==-1&&_<p+1?f.indexOf(r,p+1):_)===-1?T:Math.min(T,_));if(f.substr(p+1+j,L)===t){c.push(f.substring(u,p).replace(X,g)),f[u=p+1+j+L]!==g&&(p=f.indexOf(g,u)),T=f.indexOf(t,u),_=f.indexOf(r,u);break}if(j=ce(_),f.substring(p+1+j,p+1+j+z)===r){if(c.push(f.substring(u,p).replace(X,g)),ge(p+1+j+z),T=f.indexOf(t,u),p=f.indexOf(g,u),y&&(re(),$))return q();if(h&&x.length>=h)return q(!0);break}O.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:x.length,index:u}),p++}}else if(s&&c.length===0&&f.substring(u,u+J)===s){if(_===-1)return q();u=_+z,_=f.indexOf(r,u),T=f.indexOf(t,u)}else if(T!==-1&&(T<_||_===-1))c.push(f.substring(u,T)),u=T+L,T=f.indexOf(t,u);else{if(_===-1)break;if(c.push(f.substring(u,_)),ge(_+z),y&&(re(),$))return q();if(h&&x.length>=h)return q(!0)}return te();function le(N){x.push(N),I=u}function ce(N){var Q=0;return Q=N!==-1&&(N=f.substring(p+1,N))&&N.trim()===""?N.length:Q}function te(N){return o||(N===void 0&&(N=f.substring(u)),c.push(N),u=F,le(c),y&&re()),q()}function ge(N){u=N,le(c),c=[],_=f.indexOf(r,u)}function q(N){if(e.header&&!m&&x.length&&!G){var Q=x[0],ae=Object.create(null),De=new Set(Q);let Ae=!1;for(let he=0;he<Q.length;he++){let se=Q[he];if(ae[se=w(e.transformHeader)?e.transformHeader(se,he):se]){let me,Fe=ae[se];for(;me=se+"_"+Fe,Fe++,De.has(me););De.add(me),Q[he]=me,ae[se]++,Ae=!0,(K=K===null?{}:K)[me]=se}else ae[se]=1,Q[he]=se;De.add(se)}Ae&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:x,errors:O,meta:{delimiter:t,linebreak:r,aborted:$,truncated:!!N,cursor:I+(m||0),renamedHeaders:K}}}function re(){n(q()),x=[],O=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return u}}function je(e){var t=e.data,r=S[t.workerId],s=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){s=!0,ue(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ye,resume:ye};if(w(r.userStep)){for(var h=0;h<t.results.data.length&&(r.userStep({data:t.results.data[h],errors:t.results.errors,meta:t.results.meta},n),!s);h++);delete t.results}else w(r.userChunk)&&(r.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!s&&ue(t.workerId,t.results)}function ue(e,t){var r=S[e];w(r.userComplete)&&r.userComplete(t),r.terminate(),delete S[e]}function ye(){throw new Error("Not implemented.")}function pe(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=pe(e[t]);return r}function ee(e,t){return function(){e.apply(t,arguments)}}function w(e){return typeof e=="function"}return i.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(w(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!w(t.transform)&&t.transform,!t.worker||!i.WORKERS_SUPPORTED)return r=null,i.NODE_STREAM_INPUT,typeof e=="string"?(e=(s=>s.charCodeAt(0)!==65279?s:s.slice(1))(e),r=new(t.download?H:V)(t)):e.readable===!0&&w(e.read)&&w(e.on)?r=new Z(t):(d.File&&e instanceof File||e instanceof Object)&&(r=new U(t)),r.stream(e);(r=(()=>{var s;return!!i.WORKERS_SUPPORTED&&(s=(()=>{var n=d.URL||d.webkitURL||null,h=v.toString();return i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",h,")();"],{type:"text/javascript"})))})(),(s=new d.Worker(s)).onmessage=je,s.id=Y++,S[s.id]=s)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=w(t.step),t.chunk=w(t.chunk),t.complete=w(t.complete),t.error=w(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},i.unparse=function(e,t){var r=!1,s=!0,n=",",h=`\r
`,E='"',K=E+E,G=!1,g=null,D=!1,u=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||i.BAD_DELIMITERS.filter(function(m){return t.delimiter.indexOf(m)!==-1}).length||(n=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(G=t.skipEmptyLines),typeof t.newline=="string"&&(h=t.newline),typeof t.quoteChar=="string"&&(E=t.quoteChar),typeof t.header=="boolean"&&(s=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");g=t.columns}t.escapeChar!==void 0&&(K=t.escapeChar+E),t.escapeFormulae instanceof RegExp?D=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(oe(E),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return $(null,e,G);if(typeof e[0]=="object")return $(g||Object.keys(e[0]),e,G)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||g),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),$(e.fields||[],e.data||[],G);throw new Error("Unable to serialize unrecognized input");function $(m,o,F){var L="",z=(typeof m=="string"&&(m=JSON.parse(m)),typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(m)&&0<m.length),J=!Array.isArray(o[0]);if(z&&s){for(var y=0;y<m.length;y++)0<y&&(L+=n),L+=f(m[y],y);0<o.length&&(L+=h)}for(var x=0;x<o.length;x++){var O=(z?m:o[x]).length,c=!1,I=z?Object.keys(o[x]).length===0:o[x].length===0;if(F&&!z&&(c=F==="greedy"?o[x].join("").trim()==="":o[x].length===1&&o[x][0].length===0),F==="greedy"&&z){for(var W=[],C=0;C<O;C++){var T=J?m[C]:C;W.push(o[x][T])}c=W.join("").trim()===""}if(!c){for(var _=0;_<O;_++){0<_&&!I&&(L+=n);var X=z&&J?m[_]:_;L+=f(o[x][X],_)}x<o.length-1&&(!F||0<O&&!I)&&(L+=h)}}return L}function f(m,o){var F,L;return m==null?"":m.constructor===Date?JSON.stringify(m).slice(1,25):(L=!1,D&&typeof m=="string"&&D.test(m)&&(m="'"+m,L=!0),F=m.toString().replace(u,K),(L=L||r===!0||typeof r=="function"&&r(m,o)||Array.isArray(r)&&r[o]||((z,J)=>{for(var y=0;y<J.length;y++)if(-1<z.indexOf(J[y]))return!0;return!1})(F,i.BAD_DELIMITERS)||-1<F.indexOf(n)||F.charAt(0)===" "||F.charAt(F.length-1)===" ")?E+F+E:F)}},i.RECORD_SEP="",i.UNIT_SEP="",i.BYTE_ORDER_MARK="\uFEFF",i.BAD_DELIMITERS=["\r",`
`,'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!k&&!!d.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=ne,i.ParserHandle=de,i.NetworkStreamer=H,i.FileStreamer=U,i.StringStreamer=V,i.ReadableStreamStreamer=Z,d.jQuery&&((A=d.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(h){if(!(A(this).prop("tagName").toUpperCase()==="INPUT"&&A(this).attr("type").toLowerCase()==="file"&&d.FileReader)||!this.files||this.files.length===0)return!0;for(var E=0;E<this.files.length;E++)r.push({file:this.files[E],inputElem:this,instanceConfig:A.extend({},t)})}),s(),this;function s(){if(r.length===0)w(e.complete)&&e.complete();else{var h,E,K,G,g=r[0];if(w(e.before)){var D=e.before(g.file,g.inputElem);if(typeof D=="object"){if(D.action==="abort")return h="AbortError",E=g.file,K=g.inputElem,G=D.reason,void(w(e.error)&&e.error({name:h},E,K,G));if(D.action==="skip")return void n();typeof D.config=="object"&&(g.instanceConfig=A.extend(g.instanceConfig,D.config))}else if(D==="skip")return void n()}var u=g.instanceConfig.complete;g.instanceConfig.complete=function($){w(u)&&u($,g.file,g.inputElem),n()},i.parse(g.file,g.instanceConfig)}}function n(){r.splice(0,1),s()}}),M&&(d.onmessage=function(e){e=e.data,i.WORKER_ID===void 0&&e&&(i.WORKER_ID=e.workerId),typeof e.input=="string"?d.postMessage({workerId:i.WORKER_ID,results:i.parse(e.input,e.config),finished:!0}):(d.File&&e.input instanceof File||e.input instanceof Object)&&(e=i.parse(e.input,e.config))&&d.postMessage({workerId:i.WORKER_ID,results:e,finished:!0})}),(H.prototype=Object.create(R.prototype)).constructor=H,(U.prototype=Object.create(R.prototype)).constructor=U,(V.prototype=Object.create(V.prototype)).constructor=V,(Z.prototype=Object.create(R.prototype)).constructor=Z,i})}(ve)),ve.exports}var Ot=Dt();const It=Ge(Ot);var xe={exports:{}},Mt=xe.exports,Qe;function Lt(){return Qe||(Qe=1,function(l,b){(function(v,d){l.exports=d()})(Mt,function(){var v="day";return function(d,A,k){var M=function(i){return i.add(4-i.isoWeekday(),v)},S=A.prototype;S.isoWeekYear=function(){return M(this).year()},S.isoWeek=function(i){if(!this.$utils().u(i))return this.add(7*(i-this.isoWeek()),v);var R,H,U,V,Z=M(this),de=(R=this.isoWeekYear(),H=this.$u,U=(H?k.utc:k)().year(R).startOf("year"),V=4-U.isoWeekday(),U.isoWeekday()>4&&(V+=7),U.add(V,v));return Z.diff(de,"week")+1},S.isoWeekday=function(i){return this.$utils().u(i)?this.day()||7:this.day(this.day()%7?i:i-7)};var Y=S.startOf;S.startOf=function(i,R){var H=this.$utils(),U=!!H.u(R)||R;return H.p(i)==="isoweek"?U?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):Y.bind(this)(i,R)}}})}(xe)),xe.exports}var At=Lt();const Ft=Ge(At);dayjs.extend(Ft);const Wt="https://docs.google.com/spreadsheets/d/e/2PACX-1vSlmQyi2ohRZAyez3qMsO3E7aWWIYSDP3El4c3tyY1G-ztdjxnUHI6tNqJgbe9yGcjFht3qmwMnTIvq/pub?gid=888251608&single=true&output=csv",Me=[{field:"id",headerName:"#",width:60},{field:"Driver",headerName:"Driver",width:160},{field:"RideID",headerName:"Ride ID",width:150},{field:"StartTime",headerName:"Start Time",width:200},{field:"EndTime",headerName:"End Time",width:200},{field:"Duration",headerName:"Duration (hrs)",width:140},{field:"LoggedAt",headerName:"Logged At",width:200}];function Ht(){const[l,b]=P.useState([]),[v,d]=P.useState(""),[A,k]=P.useState([]),[M,S]=P.useState([]),[Y,i]=P.useState(!1),[R,H]=P.useState({open:!1,message:"",severity:"success"}),[U,V]=P.useState(Me.reduce((e,t)=>({...e,[t.field]:!0}),{})),[Z,de]=P.useState(0),oe=Ve(),ne=oe.palette.mode==="dark",je=Ze(oe.breakpoints.down("sm")),ue=P.useCallback(()=>{i(!0),It.parse(Wt,{download:!0,header:!0,complete:e=>{try{const t=e.data.filter(r=>r.Driver&&r.RideID).map((r,s)=>{const n=isNaN(parseFloat(r.Duration))?0:parseFloat(r.Duration),h=dayjs(r.StartTime),E=dayjs(r.EndTime),K=dayjs(r.LoggedAt);return{id:s+1,Driver:r.Driver,RideID:r.RideID,StartTime:h.isValid()?h.format("MM/DD/YYYY HH:mm"):"Missing",EndTime:E.isValid()?E.format("MM/DD/YYYY HH:mm"):"Missing",Duration:(n/60).toFixed(2),LoggedAt:K.isValid()?K.format("MM/DD/YYYY HH:mm"):"Missing",rawStart:r.StartTime,rawEnd:r.EndTime}});b(t),ye(t),pe(t)}catch(t){console.error("Processing error:",t),H({open:!0,message:"❌ Failed to process data",severity:"error"})}finally{i(!1)}}})},[]),ye=e=>{const t={};e.forEach(r=>{const s=dayjs(r.StartTime,"MM/DD/YYYY HH:mm");if(!s.isValid()||typeof s.isoWeek!="function")return;const n=s.isoWeek(),h=s.startOf("isoWeek").year(),E=`${r.Driver}__${h}-W${n}`;t[E]||(t[E]={driver:r.Driver,week:`${h} W${n}`,total:0}),t[E].total+=parseFloat(r.Duration)}),k(Object.values(t).sort((r,s)=>s.week.localeCompare(r.week)))},pe=e=>{const t=e.filter(r=>!r.rawEnd||parseFloat(r.Duration)===0||parseFloat(r.Duration)>10);S(t)};P.useEffect(()=>{ue()},[ue]);const ee=P.useMemo(()=>l.filter(e=>(e.Driver||"").toLowerCase().includes(v.toLowerCase())||(e.RideID||"").toLowerCase().includes(v.toLowerCase())),[l,v]),w=Me.filter(e=>U[e.field]);return a.jsxs(fe,{sx:{px:{xs:1,sm:2},py:3},children:[a.jsxs(Xe,{value:Z,onChange:(e,t)=>de(t),variant:"fullWidth",sx:{mb:2},children:[a.jsx(Oe,{label:"Log Table"}),a.jsx(Oe,{label:"Weekly Summary"}),a.jsx(Oe,{label:"Flagged Issues"})]}),Z===0&&a.jsxs(a.Fragment,{children:[a.jsxs(_e,{sx:{p:2,mb:3,borderLeft:"5px solid #4cbb17"},children:[a.jsxs(fe,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,children:[a.jsx(Ie,{variant:"h6",children:"🧾 Time Log Dashboard"}),a.jsx(et,{title:"Reload Data",children:a.jsx(tt,{onClick:ue,children:a.jsx(rt,{})})})]}),a.jsx(st,{fullWidth:!0,label:"Search by Driver or Ride ID",value:v,onChange:e=>d(e.target.value),InputProps:{endAdornment:a.jsx(it,{position:"end",children:a.jsx(nt,{})})},sx:{my:2}}),a.jsx(fe,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1,children:Me.map(e=>a.jsx(at,{control:a.jsx(ot,{checked:U[e.field],onChange:()=>V(t=>({...t,[e.field]:!t[e.field]}))}),label:e.headerName},e.field))})]}),a.jsx(_e,{sx:{p:1,mb:4,backgroundColor:ne?"grey.900":"background.paper"},children:Y?a.jsx(fe,{display:"flex",justifyContent:"center",alignItems:"center",height:360,children:a.jsx(lt,{})}):a.jsx(fe,{sx:{width:"100%"},children:a.jsx(dt,{autoHeight:!0,rows:ee,columns:w,pageSize:je?5:10,pageSizeOptions:[5,10,20,50],getRowClassName:e=>{const t=parseFloat(e.row.Duration);return!e.row.rawEnd||t===0?"row-zero":t>10?"row-long":""},sx:{"& .row-zero":{backgroundColor:"#fff3cd"},"& .row-long":{backgroundColor:"#f8d7da"},"& .MuiDataGrid-row:hover":{backgroundColor:ne?"#333":"grey.100"},backgroundColor:ne?"#2a2a2a":"#fafafa",fontSize:"0.85rem"}})})})]}),Z===1&&a.jsxs(_e,{sx:{p:2,borderLeft:"5px solid #4cbb17"},children:[a.jsx(Ie,{variant:"h6",gutterBottom:!0,children:"📊 Weekly Summary (Mon–Sun)"}),a.jsx(fe,{sx:{overflowX:"auto"},children:a.jsxs(ze,{size:"small",stickyHeader:!0,children:[a.jsx(qe,{children:a.jsxs(be,{children:[a.jsx(B,{children:"Driver"}),a.jsx(B,{children:"Week"}),a.jsx(B,{children:"Total Duration (hrs)"})]})}),a.jsx(Ue,{children:A.map((e,t)=>a.jsxs(be,{sx:{backgroundColor:ne?"grey.800":void 0,"&:hover":{backgroundColor:ne?"grey.700":"grey.100"}},children:[a.jsx(B,{children:e.driver}),a.jsx(B,{children:e.week}),a.jsx(B,{children:e.total.toFixed(2)})]},t))})]})})]}),Z===2&&a.jsxs(_e,{sx:{p:2,borderLeft:"5px solid #ffa500"},children:[a.jsx(Ie,{variant:"h6",gutterBottom:!0,children:"🚨 Flagged Log Issues"}),M.length===0?a.jsx(Ne,{severity:"success",children:"No issues detected. All entries look good."}):a.jsxs(ze,{size:"small",children:[a.jsx(qe,{children:a.jsxs(be,{children:[a.jsx(B,{children:"Driver"}),a.jsx(B,{children:"RideID"}),a.jsx(B,{children:"Start"}),a.jsx(B,{children:"End"}),a.jsx(B,{children:"Duration"})]})}),a.jsx(Ue,{children:M.map((e,t)=>a.jsxs(be,{children:[a.jsx(B,{children:e.Driver}),a.jsx(B,{children:e.RideID}),a.jsx(B,{children:e.StartTime}),a.jsx(B,{children:e.EndTime}),a.jsx(B,{children:e.Duration})]},t))})]})]}),a.jsx(ut,{open:R.open,autoHideDuration:3e3,onClose:()=>H({...R,open:!1}),children:a.jsx(Ne,{severity:R.severity,variant:"filled",children:R.message})})]})}export{Ht as default};
